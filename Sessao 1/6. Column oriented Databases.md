## 1️⃣ O que é Column-Oriented Database

Um column-oriented database (ou banco de dados orientado a colunas) armazena os dados por coluna em vez de por linha, como acontece nos bancos tradicionais (row-oriented).

- Row-oriented (linha): cada registro completo é armazenado sequencialmente. Bom para OLTP, onde se faz muitas operações de inserção, atualização e busca por registros específicos.

- Column-oriented (coluna): cada coluna é armazenada de forma contígua. Excelente para OLAP, onde você precisa agregar, somar, filtrar e analisar grandes volumes de dados por atributo.

**Exemplo**:

| ID | Nome | Salário |
| -- | ---- | ------- |
| 1  | Ana  | 5000    |
| 2  | João | 4000    |

- Row-oriented: armazena [1, Ana, 5000], depois [2, João, 4000]

- Column-oriented: armazena [1, 2], depois [Ana, João], depois [5000, 4000]

Isso permite ler rapidamente só as colunas necessárias sem precisar carregar registros inteiros.

## 2️⃣ Relação com OLTP e OLAP

**OLTP (Online Transaction Processing):**

- Operações rápidas de inserção/atualização.

- Bancos row-oriented são melhores, porque você normalmente acessa uma linha inteira por vez.

**OLAP (Online Analytical Processing):**

- Consultas de análise complexa, agregações, sumarizações.

- Bancos column-oriented são melhores, porque você normalmente acessa apenas algumas colunas para milhares ou milhões de linhas, economizando I/O e acelerando agregações.

**Então, column-oriented é praticamente feito para OLAP.**

## 3️⃣ Relação com SAP

No contexto do SAP, especialmente no SAP HANA:

- SAP HANA é um in-memory column-oriented database, ou seja, ele combina armazenamento em memória com colunas para acelerar análises.

- Isso resolve um dos problemas de OLAP tradicional: lentidão em grandes volumes de dados, porque os sistemas OLAP “convencionais” precisavam criar aggregates para pré-calcular somas, médias, etc.

- Com columnar + in-memory, muitas agregações podem ser feitas dinamicamente, reduzindo a necessidade de manter tabelas de aggregates separadas.

- Lembra das questões anteriores sobre “aggregates” e “index tables”?

- Antes, OLAP precisava de aggregates para otimizar consultas.

- Column-oriented + in-memory permite evitar ou reduzir drasticamente a criação de aggregates.

## 4️⃣ Conexão direta
| Conceito                  | Row-oriented                                    | Column-oriented                            |
| ------------------------- | ----------------------------------------------- | ------------------------------------------ |
| Tipo de carga             | OLTP                                            | OLAP                                       |
| Uso típico                | Transações rápidas                              | Análises complexas                         |
| SAP HANA                  | Permite ambos, mas columnar é crucial para OLAP | Armazena colunas para agregações rápidas   |
| Necessidade de aggregates | Alta                                            | Baixa                                      |
| Exemplo                   | Tabelas transacionais do SAP ECC                | Cubos analíticos, relatórios em tempo real |