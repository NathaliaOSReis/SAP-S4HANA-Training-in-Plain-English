## ğŸ“‘ Can we eliminate "Aggregates"?

## ğŸ”¹ O que sÃ£o Aggregates no contexto SAP ECC

- Aggregates = dados prÃ©-calculados e armazenados para evitar recalcular sempre.

- Usados em relatÃ³rios e anÃ¡lises porque o banco de dados relacional nÃ£o tinha performance suficiente para grandes somatÃ³rios ou cÃ¡lculos dinÃ¢micos.

- No SAP ECC, os aggregates apareciam de 2 formas principais:

    **1.** Index tables â†’ saldos parciais (ex.: BSIS, BSAS para FI).

    **2.**  LIS tables (Info Structures) â†’ estatÃ­sticas logÃ­sticas (ex.: S001 para vendas, S006 para estoque).

ğŸ‘‰ Esses aggregates eram criados para resolver o problema OLAP dentro de um ambiente OLTP, mas geravam redundÃ¢ncia e inconsistÃªncia.

## ğŸ”¹ Problemas com Aggregates

- RedundÃ¢ncia de dados â†’ os mesmos nÃºmeros existiam em vÃ¡rias tabelas.

- InconsistÃªncia â†’ aggregates podiam nÃ£o refletir os dados reais se um job falhasse.

- **Complexidade** â†’ difÃ­cil manter e ajustar quando surgiam novas necessidades de relatÃ³rios.

- Rigidez â†’ sÃ³ funcionavam para relatÃ³rios prÃ©-definidos; nÃ£o serviam bem para anÃ¡lises novas.

## ğŸ”¹ Pergunta central: podemos eliminar os aggregates?

- No ECC â†’ NÃ£o. PrecisÃ¡vamos de aggregates (index, LIS, OLAP externo) porque o banco relacional era lento.

- No S/4HANA â†’ Sim!

- O SAP HANA faz agregaÃ§Ãµes em tempo real (in-memory, column store).

- Exemplo: em vez de manter saldos redundantes em BSIS/BSAS, tudo Ã© armazenado em ACDOCA (Universal Journal) e consultado via CDS Views.

- Em logÃ­stica, relatÃ³rios antes baseados em LIS agora usam Embedded Analytics.

## ğŸ”¹ RelaÃ§Ã£o com OLTP/OLAP

- ECC â†’ separava OLTP (basic tables) de OLAP (aggregates via index, LIS ou BW).

- S/4HANA â†’ une OLTP + OLAP no mesmo sistema (HTAP), eliminando aggregates redundantes.

ğŸ“Œ Resumo para anotaÃ§Ãµes

- Aggregates = dados prÃ©-calculados para acelerar relatÃ³rios (index, LIS, OLAP BW).

- Problemas: redundÃ¢ncia, inconsistÃªncia, complexidade e rigidez.

- No ECC â†’ necessÃ¡rios por causa da limitaÃ§Ã£o do banco de dados relacional.

- No S/4HANA â†’ eliminados, jÃ¡ que o HANA executa agregaÃ§Ãµes em tempo real direto nas basic tables (ex.: ACDOCA).

- Ferramentas modernas: CDS Views, Embedded Analytics, Fiori apps substituem aggregates.